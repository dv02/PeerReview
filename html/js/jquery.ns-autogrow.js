(function(){var a;!function(b,c){b.fn.autogrow=function(d){if(null==d&&(d={}),null==d.horizontal&&(d.horizontal=!0),null==d.vertical&&(d.vertical=!0),null==d.debugx&&(d.debugx=-1e4),null==d.debugy&&(d.debugy=-1e4),null==d.debugcolor&&(d.debugcolor="yellow"),null==d.flickering&&(d.flickering=!0),null==d.postGrowCallback&&(d.postGrowCallback=function(){}),null==d.verticalScrollbarWidth&&(d.verticalScrollbarWidth=a()),!1!==d.horizontal||!1!==d.vertical)return this.filter("textarea").each(function(){var a,e,f,g,h,i,j;if(a=b(this),!a.data("autogrow-enabled"))return a.data("autogrow-enabled"),h=a.height(),i=a.width(),g=1*a.css("lineHeight")||0,a.hasVerticalScrollBar=function(){return a[0].clientHeight<a[0].scrollHeight},e=b('<div class="autogrow-shadow"></div>').css({position:"absolute",display:"inline-block","background-color":d.debugcolor,top:d.debugy,left:d.debugx,"max-width":a.css("max-width"),padding:a.css("padding"),fontSize:a.css("fontSize"),fontFamily:a.css("fontFamily"),fontWeight:a.css("fontWeight"),lineHeight:a.css("lineHeight"),resize:"none","word-wrap":"break-word"}).appendTo(document.body),!1===d.horizontal?e.css({width:a.width()}):(f=a.css("font-size"),e.css("padding-right","+="+f),e.normalPaddingRight=e.css("padding-right")),j=function(b){return function(c){var f,j,k;return j=b.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n /g,"<br/>&nbsp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(a){return Array(a.length-1).join("&nbsp;")+" "}),/(\n|\r)/.test(b.value)&&(j+="<br />",!1===d.flickering&&(j+="<br />")),e.html(j),!0===d.vertical&&(f=Math.max(e.height()+g,h),a.height(f)),!0===d.horizontal&&(e.css("padding-right",e.normalPaddingRight),!1===d.vertical&&a.hasVerticalScrollBar()&&e.css("padding-right","+="+d.verticalScrollbarWidth+"px"),k=Math.max(e.outerWidth(),i),a.width(k)),d.postGrowCallback(a)}}(this),a.change(j).keyup(j).keydown(j),b(c).resize(j),j()})}}(window.jQuery,window),a=function(){var a,b,c,d;return a=document.createElement("p"),a.style.width="100%",a.style.height="200px",b=document.createElement("div"),b.style.position="absolute",b.style.top="0px",b.style.left="0px",b.style.visibility="hidden",b.style.width="200px",b.style.height="150px",b.style.overflow="hidden",b.appendChild(a),document.body.appendChild(b),c=a.offsetWidth,b.style.overflow="scroll",d=a.offsetWidth,c===d&&(d=b.clientWidth),document.body.removeChild(b),c-d}}).call(this);